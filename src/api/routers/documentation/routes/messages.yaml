/hotspots/{hotspotId}/messages:
  get:
    description: Retourne la liste des messages associèe à un hotspot. Si vous recherchez un messages privé, vous devez fournir le header Authorization.
    tags:
      - Message
    parameters:
    - name: Authorization
      in: header
      required: false
      schema:
        type: string
    - name: hotspotId
      in: path
      description: L'uuid de l'hotspot en qestion.
      required: true
      type: string
    - name: count
      in: query
      description: Si renseigné renvoie une map messageId <-> nombre de commentaire.
      required: false 
    - name: messages
      in: query
      description: Nécessaire si count est mis. Représente une liste de MessageId séparée par des ,. La requête renverra une map pour chaque id le nombre de commentaires.
    produces:
      - application/json
    responses:
      200:
        description: Une liste de messages.
        content:
          application/json:
            schema:
              type: object
              items:
                $ref: '#/definitions/Messages'
      401:
        description: L'hotspot est protégé, vous n'avez pas les droits.
      404:
        description: HotspotId invalide, probablement introuvable.
      500:
        description: Quelque chose a mal tourné.
  post:
    description: Créé et renvoie un message.
    tags:
      - Message
    parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
      - name: hotspotId
        in: path
        description: L'uuid de l'hotspot dont on va créer un message.
        required: true
        type: string
      - in: body
        name: message
        description: Le message à créer.
        schema:
          type: object
          required:
            - title
            - body
          properties:
            title:
              type: string
            body:
              type: string
            pinned:
              type: boolean
    produces:
      - application/json
    responses:
      201:
        description: Le message nouvellement créé.
        content:
          application/json:
            schema:
              type: object
              $ref: '#/definitions/Messages'
      400:
        description: Body invalide, verifiez votre requète.
      401:
        description: Jeton invalide.
      404:
        description: HotspotId invalide, probablement introuvable.
      500:
        description: Quelque chose a mal tourné.
/hotspots/{hotspotId}/messages/{messageId}:
  patch:
    description: Edite un message et le retourne.
    tags:
      - Message
    parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
      - name: hotspotId
        in: path
        description: L'uuid de l'hotspot qui va se faire modifier un message.
        required: true
        type: string
      - name: messageId
        in: path
        description: L'uuid du message à éditer.
        required: true
        type: string
      - in: body
        name: message
        description: Le message à éditer.
        schema:
          type: object
          properties:
            title:
              type: string
            body:
              type: string
            pinned:
              type: boolean
    produces:
      - application/json
    responses:
      200:
        description: Le message édité correctement.
        content:
          application/json:
            schema:
              type: object
              $ref: '#/definitions/Messages'
      400:
        description: Body invalide verifiez votre requète.
      401:
        description: Jeton invalide.
      404:
        description: HotspotId ou MessageId invalide(non trouvé).
      500:
        description: Quelque chose à mal tourné.
  delete:
    tags:
      - Message
    parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
      - name: hotspotId
        in: path
        description: L'id de l'hotspot dont il faut effacer le message.
        required: true
        type: string
      - name: messageId
        in: path
        description: L'uuid du message à effacer.
        required: true
        type: string
    description: delete a message
    produces:
      - application/json
    responses:
      200:
        description: Le message a été correctement supprimé.
        content:
          application/json:
            schema:
              type: object
              $ref: '#/definitions/Messages'
      404:
        description: HotspotId ou MessageId invalide(non trouvé).
      401:
        description: Jeton invalide.
      500:
        description: Quelque chose à mal tourné.
/hotspots/{hotspotId}/messages/{messageId}/comments:
  post:
    description: Créer un commentaire et le retourne.
    tags:
      - Message
    parameters:
      - name: Authorization
        in: header
        required: true
        schema:
          type: string
      - name: hotspotId
        in: path
        description: L'uuid de l'hotspot ou l'on va poster un commentaire.
        required: true
        type: string
      - name: messageId
        in: path
        description: L'uuid du message à commenter.
        required: true
        type: string
      - in: body
        name: message
        description: Le commentaire à poster.
        schema:
          type: object
          properties:
            title:
              type: string
            body:
              type: string
            pinned:
              type: boolean
    produces:
      - application/json
    responses:
      200:
        description: Le commentaire correctement formé.
        content:
          application/json:
            schema:
              type: object
              $ref: '#/definitions/Messages'
      400:
        description: Body invalide verifiez votre requète.
      401:
        description: Jeton invalide.
      404:
        description: HotspotId ou MessageId invalide(non trouvé).
      500:
        description: Quelque chose à mal tourné.